#!/usr/bin/env bash
#
# Installs Golang.

set -o errexit
set -o nounset
set -o pipefail

mkdir -p "${HOME}/go/{bin,pkg,src}" || true

GO_VERSION="1.22.2"
GO_ARCH="arm64"
GO_TARGZ="go${GO_VERSION}.linux-${GO_ARCH}.tar.gz"
OUT="${HOME}/Downloads/${GO_TARGZ}"
[[ -f "${OUT}" ]] || \
  curl --location \
  --output "${OUT}" \
  "https://go.dev/dl/${GO_TARGZ}"

[[ -d /usr/local/go ]] && sudo rm -rf /usr/local/go
sudo tar -C /usr/local -xzf "${OUT}"
